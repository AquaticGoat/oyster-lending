(this["webpackJsonptoken-lending-ui"]=this["webpackJsonptoken-lending-ui"]||[]).push([[0],{116:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return b}));var a=n(64),r=n(16),i=n(38),c=n.n(i),o=n(1),u=n(30),l=n(46),s=n(92),d=o.struct([l.c("lastUpdateSlot"),l.a("lendingMarket"),l.a("liquidityMint"),o.u8("liquidityMintDecimals"),l.a("liquiditySupply"),l.a("collateralMint"),l.a("collateralSupply"),o.u32("dexMarketOption"),l.a("dexMarket"),o.struct([o.u8("maxUtilizationRate"),o.u8("loanToValueRatio"),o.u8("liquidationBonus"),o.u8("liquidationThreshold")],"config"),l.b("cumulativeBorrowRate"),l.b("totalBorrows"),l.c("totalLiquidity"),l.c("collateralMintSupply")]),m=function(e){return console.log(d.span),console.log(e.data.length),e.data.length===d.span},f=function(t,n){var r=e.from(n.data),i=d.decode(r);return{pubkey:t,account:Object(a.a)({},n),info:i}},p=function(t,n,a,i,d,m,f,p,v,b,y,g){var h=o.struct([o.u8("instruction"),l.c("liquidityAmount"),o.u8("maxUtilizationRate")]),E=e.alloc(h.span);h.encode({instruction:s.a.InitReserve,liquidityAmount:new c.a(t),maxUtilizationRate:n},E);var w=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!0,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:r.e,isSigner:!1,isWritable:!1},{pubkey:r.f,isSigner:!1,isWritable:!1},{pubkey:u.b,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1}];return new r.i({keys:w,programId:u.a,data:E})},v=function(t,n,a,i,d,m,f){var p=o.struct([o.u8("instruction"),l.c("liquidityAmount")]),v=e.alloc(p.span);p.encode({instruction:s.a.DepositReserveLiquidity,liquidityAmount:new c.a(t)},v);var b=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r.e,isSigner:!1,isWritable:!1},{pubkey:u.b,isSigner:!1,isWritable:!1}];return new r.i({keys:b,programId:u.a,data:v})},b=function(t,n,a,i,d,m,f){var p=o.struct([o.u8("instruction"),l.c("collateralAmount")]),v=e.alloc(p.span);p.encode({instruction:s.a.WithdrawReserveLiquidity,collateralAmount:new c.a(t)},v);var b=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:r.e,isSigner:!1,isWritable:!1},{pubkey:u.b,isSigner:!1,isWritable:!1}];return new r.i({keys:b,programId:u.a,data:v})}}).call(this,n(48).Buffer)},15:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return N})),n.d(t,"a",(function(){return C})),n.d(t,"h",(function(){return q})),n.d(t,"e",(function(){return I})),n.d(t,"g",(function(){return P}));var a=n(296),r=n(27),i=n(275),c=n(13),o=n.n(c),u=n(21),l=n(64),s=n(0),d=n.n(s),m=n(31),f=n(58),p=n(16),v=n(30),b=n(39),y=n(17),g=n(160),h=d.a.createContext(null),E=new g.a,w=new Map,k=new Map,O=function(t,n){var a=e.from(n.data),r=K(a);return{pubkey:t,account:Object(l.a)({},n),info:r}},j=function(t,n){var a=e.from(n.data),r=L(a);return{pubkey:t,account:Object(l.a)({},n),info:r}},S=new Map,x={emitter:new g.a,query:function(){var e=Object(u.a)(o.a.mark((function e(t,n,a){var r,i,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="string"===typeof n?new p.d(n):n,i=r.toBase58(),!(c=k.get(i))){e.next=5;break}return e.abrupt("return",c);case 5:if(!(u=w.get(i))){e.next=8;break}return e.abrupt("return",u);case 8:return u=t.getAccountInfo(r).then((function(e){if(!e)throw new Error("Account not found");return x.add(r,e,a)})),w.set(i,u),e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),add:function(e,t,n){var a="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),r=n||S.get(a);if(!r)throw new Error("Deserializer needs to be registered or passed as a parameter");x.registerParser(e,r),w.delete(a);var i=r(new p.d(a),t);if(i)return k.set(a,i),x.emitter.raiseCacheUpdated(a,r),i},get:function(e){var t;return t="string"!==typeof e?e.toBase58():e,k.get(t)},byParser:function(e){var t,n=[],a=Object(i.a)(S.keys());try{for(a.s();!(t=a.n()).done;){var r=t.value;S.get(r)===e&&n.push(r)}}catch(c){a.e(c)}finally{a.f()}return n},registerParser:function(e,t){if(e){var n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();S.set(n,t)}return e}},N=function(){return Object(s.useContext)(h)};var M=function(){var e=Object(m.d)(),t=Object(f.c)().wallet,n=Object(s.useState)(),a=Object(r.a)(n,2),i=a[0],c=a[1],o=Object(s.useCallback)((function(e){var n,a,r=function(e,t){if(t)return{pubkey:e,account:t,info:{mint:v.c,owner:e,amount:new b.d(t.lamports),delegate:null,delegatedAmount:new b.d(0),isInitialized:!0,isFrozen:!1,isNative:!0,rentExemptReserve:null,closeAuthority:null}}}(t.publicKey,e);void 0!==r&&t&&(x.registerParser(null===(n=t.publicKey)||void 0===n?void 0:n.toBase58(),j),k.set(null===(a=t.publicKey)||void 0===a?void 0:a.toBase58(),r))}),[t]);return Object(s.useEffect)((function(){e&&(null===t||void 0===t?void 0:t.publicKey)&&(e.getAccountInfo(t.publicKey).then((function(e){e&&(o(e),c(e))})),e.onAccountChange(t.publicKey,(function(e){e&&(o(e),c(e))})))}),[c,t,t.publicKey,e,o]),{nativeAccount:i}},A=new Set,B=function(){var e=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return A.add(n.toBase58()),e.next=5,t.getTokenAccountsByOwner(n,{programId:Object(v.d)().token});case 5:e.sent.value.forEach((function(e){x.add(e.pubkey.toBase58(),e.account,j)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function C(e){var t=e.children,n=void 0===t?null:t,a=Object(m.d)(),i=Object(f.c)(),c=i.wallet,o=i.connected,u=Object(s.useState)([]),l=Object(r.a)(u,2),y=l[0],g=l[1],w=Object(s.useState)([]),S=Object(r.a)(w,2),N=S[0],C=S[1],q=M().nativeAccount,I=Object(s.useCallback)((function(){return x.byParser(j).map((function(e){return x.get(e)})).filter((function(e){var t;return e&&e.info.owner.toBase58()===(null===(t=c.publicKey)||void 0===t?void 0:t.toBase58())})).map((function(e){return e}))}),[c]);Object(s.useEffect)((function(){var e=I().filter((function(e){return void 0!==e}));C(e)}),[q,c,y,I]);var W=null===c||void 0===c?void 0:c.publicKey;return Object(s.useEffect)((function(){if(a&&W){B(a,W).then((function(){g(I())}));var e=a.onProgramAccountChange(Object(v.d)().token,(function(e){var t=e.accountId;if(e.accountInfo.data.length===b.a.span){var n=L(e.accountInfo.data);!A.has(n.owner.toBase58())&&x.get(t)||(x.add(t,e.accountInfo,j),g(I()),E.raiseAccountUpdated(t))}else e.accountInfo.data.length===b.b.span&&(x.get(t)&&(x.add(t,e.accountInfo,O),E.raiseAccountUpdated(t)),E.raiseAccountUpdated(t));k.has(t)&&x.add(new p.d(t),e.accountInfo)}),"singleGossip");return function(){a.removeProgramAccountChangeListener(e)}}g([])}),[a,o,W,I]),d.a.createElement(h.Provider,{value:{userAccounts:N,nativeAccount:q}},n)}function q(){return{account:Object(s.useContext)(h).nativeAccount}}var I=function(){var t=Object(u.a)(o.a.mark((function t(n,r,i){var c,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(Object(y.b)(r,99).map((function(e){return W(n,e,i)})));case 2:return c=t.sent,u=c.map((function(t){return t.array.map((function(t){if(t){var n=t.data,r=Object(a.a)(t,["data"]);return Object(l.a)(Object(l.a)({},r),{},{data:e.from(n[0],"base64")})}})).filter((function(e){return e}))})).flat(),t.abrupt("return",{keys:r,array:u});case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(o.a.mark((function e(t,n,a){var r,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._buildArgs([n],a,"base64"),e.next=3,t._rpcRequest("getMultipleAccounts",r);case 3:if(!(i=e.sent).error){e.next=6;break}throw new Error("failed to get info about account "+i.error.message);case 6:if(!i.result.value){e.next=9;break}return c=i.result.value,e.abrupt("return",{keys:n,array:c});case 9:throw new Error;case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function P(e){var t=Object(m.d)(),n=Object(s.useState)(),a=Object(r.a)(n,2),i=a[0],c=a[1],o="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();return Object(s.useEffect)((function(){if(o){x.query(t,o,O).then((function(e){return c(e.info)})).catch((function(e){return console.log(e)}));var e=x.emitter.onCache((function(e){e.id===o&&x.query(t,o,O).then((function(e){return c(e.info)}))}));return function(){e()}}}),[t,o]),i}var L=function(e){var t=b.a.decode(e);return t.mint=new p.d(t.mint),t.owner=new p.d(t.owner),t.amount=b.d.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new b.d(0)):(t.delegate=new p.d(t.delegate),t.delegatedAmount=b.d.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=b.d.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new p.d(t.closeAuthority),t},K=function(e){if(e.length!==b.b.span)throw new Error("Not a valid Mint");var t=b.b.decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new p.d(t.mintAuthority),t.supply=b.d.fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new p.d(t.freezeAuthority),t}}).call(this,n(48).Buffer)},160:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(83),r=n(74),i=n(104),c=function e(t){Object(r.a)(this,e),this.id=void 0,this.id=t};c.type="AccountUpdate";var o=function e(t,n){Object(r.a)(this,e),this.id=void 0,this.parser=void 0,this.id=t,this.parser=n};o.type="CacheUpdate";var u=function e(t){Object(r.a)(this,e),this.ids=void 0,this.ids=t};u.type="MarketUpdate";var l=function(){function e(){Object(r.a)(this,e),this.emitter=new i.EventEmitter}return Object(a.a)(e,[{key:"onMarket",value:function(e){var t=this;return this.emitter.on(u.type,e),function(){return t.emitter.removeListener(u.type,e)}}},{key:"onAccount",value:function(e){var t=this;return this.emitter.on(c.type,e),function(){return t.emitter.removeListener(c.type,e)}}},{key:"onCache",value:function(e){var t=this;return this.emitter.on(o.type,e),function(){return t.emitter.removeListener(o.type,e)}}},{key:"raiseAccountUpdated",value:function(e){this.emitter.emit(c.type,new c(e))}},{key:"raiseMarketUpdated",value:function(e){this.emitter.emit(u.type,new u(e))}},{key:"raiseCacheUpdated",value:function(e,t){this.emitter.emit(o.type,new o(e,t))}}]),e}()},17:function(e,t,n){"use strict";n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return g}));var a=n(27),r=n(0),i=n(38),c=n.n(i);function o(e,t){var n=Object(r.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),i=Object(a.a)(n,2),c=i[0],o=i[1],u=Object(r.useCallback)((function(t){c!==t&&(o(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[c,e]);return[c,u]}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))}function l(e,t){var n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return"N/A";var r=null===(n=e.get(t))||void 0===n?void 0:n.tokenSymbol;return r||(a?"".concat(t.substring(0,5),"..."):t)}function s(e,t){var n,a="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(a)return null===(n=e.get(a))||void 0===n?void 0:n.icon}var d=new Set(["USDC","wUSDC","USDT"]);function m(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map((function(n,a){return e.slice(a*t,(a+1)*t)}))}function f(e,t){var n;return e?("number"===typeof e?e:null===(n=e.info.amount)||void 0===n?void 0:n.toNumber())*Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0):0}function p(e){return(null===e||void 0===e?void 0:e.div(new c.a(10).pow(new c.a(18))))||new c.a(0)}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var a="number"===typeof e?e:c.a.isBN(e)?e.toNumber():e.info.amount.toNumber(),r=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return a/r*n}new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});var b=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),y={format:function(e){return e?b.format(e):"--"}},g=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2})},215:function(e,t,n){},251:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var a=n(64),r=n(1),i=n(46),c=r.struct([r.u8("isInitialized"),i.a("quoteMint")]),o=function(e){return e.data.length===c.span},u=function(t,n){var r=e.from(n.data),i=c.decode(r);return{pubkey:t,account:Object(a.a)({},n),info:i}}}).call(this,n(48).Buffer)},252:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u}));var a=n(64),r=n(1),i=n(46),c=r.struct([i.c("lastUpdateSlot"),i.c("collateralAmount"),i.a("collateralSupply"),i.b("cumulativeBorrowRate"),i.b("borrowAmount"),i.a("borrowReserve"),i.a("tokenMint")]),o=function(e){return e.data.length===c.span},u=function(t,n){var r=e.from(n.data),i=c.decode(r);return console.log(i),{pubkey:t,account:Object(a.a)({},n),info:i}}}).call(this,n(48).Buffer)},253:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(16),r=n(38),i=n.n(r),c=n(1),o=n(30),u=n(46),l=n(92),s=function(t,n,r,s,d,m,f,p,v,b,y,g,h,E,w){var k=c.struct([c.u8("instruction"),u.c("collateralAmount")]),O=e.alloc(k.span);k.encode({instruction:l.a.BorrowLiquidity,collateralAmount:new i.a(t)},O);var j=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:a.e,isSigner:!1,isWritable:!1},{pubkey:a.f,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1}];return new a.i({keys:j,programId:o.a,data:O})}}).call(this,n(48).Buffer)},260:function(e,t){},274:function(e){e.exports=JSON.parse('[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"},{"tokenSymbol":"USDC","mintAddress":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","tokenName":"USDC","icon":"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"}]')},289:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(16),r=n(38),i=n.n(r),c=n(30),o=n(92),u=n(1),l=n(46),s=function(t,n,r,s,d,m,f,p,v,b,y){var g=u.struct([u.u8("instruction"),l.c("liquidityAmount")]),h=e.alloc(g.span);g.encode({instruction:o.a.RepayOblogationLiquidity,liquidityAmount:new i.a(t)},h);var E=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:a.e,isSigner:!1,isWritable:!1},{pubkey:c.b,isSigner:!1,isWritable:!1}];return new a.i({keys:E,programId:c.a,data:h})}}).call(this,n(48).Buffer)},30:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return u}));var a=n(16),r=new a.d("So11111111111111111111111111111111111111112"),i=new a.d("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),c=new a.d("TokenLend1ng1111111111111111111111111111111"),o=function(e){},u=function(){return{token:i,lending:c}}},301:function(e,t,n){e.exports=n(514)},306:function(e,t,n){},309:function(e,t){},31:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return j}));var a=n(13),r=n.n(a),i=n(21),c=n(33),o=n(27),u=n(17),l=n(16),s=n(0),d=n.n(s),m=n(30),f=n(56),p=n(516),v=function(e){var t,n,a=e.type,r=e.code,i="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58();if(!i)return null;var c=null!==(n=e.length)&&void 0!==n?n:9;return d.a.createElement("a",{href:"https://explorer.solana.com/".concat(a,"/").concat(i),target:"_blank",title:i,style:e.style},r?d.a.createElement(p.a.Text,{style:e.style,code:!0},Object(u.i)(i,c)):Object(u.i)(i,c))},b=n(274),y=[{name:"lending",endpoint:"https://tln.solana.com"},{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com/"},{name:"testnet",endpoint:Object(l.j)("testnet")},{name:"devnet",endpoint:Object(l.j)("devnet")},{name:"localnet",endpoint:"http://127.0.0.1:8899"}],g=y[0].endpoint,h=d.a.createContext({endpoint:g,setEndpoint:function(){},slippage:.25,setSlippage:function(e){},connection:new l.b(g,"recent"),sendConnection:new l.b(g,"recent"),env:y[0].name,tokens:[],tokenMap:new Map});function E(e){var t,n=e.children,a=void 0===n?void 0:n,r=Object(u.k)("connectionEndpts",y[0].endpoint),i=Object(o.a)(r,2),f=i[0],p=i[1],v=Object(u.k)("slippage",.25.toString()),g=Object(o.a)(v,2),E=g[0],w=g[1],k=Object(s.useMemo)((function(){return new l.b(f,"recent")}),[f]),O=Object(s.useMemo)((function(){return new l.b(f,"recent")}),[f]),j=(null===(t=y.find((function(e){return e.endpoint===f})))||void 0===t?void 0:t.name)||y[0].name,S=Object(s.useState)([]),x=Object(o.a)(S,2),N=x[0],M=x[1],A=Object(s.useState)(new Map),B=Object(o.a)(A,2),C=B[0],q=B[1];return Object(s.useEffect)((function(){window.fetch("https://raw.githubusercontent.com/solana-labs/token-list/main/src/tokens/".concat(j,".json")).then((function(e){return e.json()})).catch((function(e){return[]})).then((function(e){var t=[].concat(Object(c.a)(b),Object(c.a)(e)).reduce((function(e,t){return e.set(t.mintAddress,t),e}),new Map);q(t),M(e)}))}),[j]),Object(m.e)(j),Object(s.useEffect)((function(){var e=k.onAccountChange((new l.a).publicKey,(function(){}));return function(){k.removeAccountChangeListener(e)}}),[k]),Object(s.useEffect)((function(){var e=k.onSlotChange((function(){return null}));return function(){k.removeSlotChangeListener(e)}}),[k]),Object(s.useEffect)((function(){var e=O.onAccountChange((new l.a).publicKey,(function(){}));return function(){O.removeAccountChangeListener(e)}}),[O]),Object(s.useEffect)((function(){var e=O.onSlotChange((function(){return null}));return function(){O.removeSlotChangeListener(e)}}),[O]),d.a.createElement(h.Provider,{value:{endpoint:f,setEndpoint:p,slippage:parseFloat(E),setSlippage:function(e){return w(e.toString())},connection:k,sendConnection:O,tokens:N,tokenMap:C,env:j}},a)}function w(){return Object(s.useContext)(h).connection}function k(){var e=Object(s.useContext)(h);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint,env:e.env,tokens:e.tokens,tokenMap:e.tokenMap}}var O=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmTransaction(n,"max");case 2:return e.next=4,t.getParsedConfirmedTransaction(n);case 4:return a=e.sent,i=[],(null===a||void 0===a?void 0:a.meta)&&a.meta.logMessages&&a.meta.logMessages.forEach((function(e){for(var t,n=/Error: (.*)/gm;null!==(t=n.exec(e));)t.index===n.lastIndex&&n.lastIndex++,t.length>1&&i.push(t[1])})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a,i){var o,u,s,m,p,b,y,g,h,E=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=!(E.length>4&&void 0!==E[4])||E[4],s=new l.h,a.forEach((function(e){return s.add(e)})),e.next=5,t.getRecentBlockhash("max");case 5:return s.recentBlockhash=e.sent.blockhash,(o=s).setSigners.apply(o,[n.publicKey].concat(Object(c.a)(i.map((function(e){return e.publicKey}))))),i.length>0&&(m=s).partialSign.apply(m,Object(c.a)(i)),e.next=10,n.signTransaction(s);case 10:return s=e.sent,p=s.serialize(),b={skipPreflight:!0,commitment:"singleGossip"},e.next=15,t.sendRawTransaction(p,b);case 15:if(y=e.sent,!u){e.next=26;break}return e.next=19,t.confirmTransaction(y,b&&b.commitment);case 19:if(!(null===(g=e.sent.value)||void 0===g?void 0:g.err)){e.next=26;break}return e.next=23,O(t,y);case 23:throw h=e.sent,Object(f.a)({message:"Transaction failed...",description:d.a.createElement(d.a.Fragment,null,h.map((function(e){return d.a.createElement("div",null,e)})),d.a.createElement(v,{address:y,type:"transaction"})),type:"error"}),new Error("Raw transaction ".concat(y," failed (").concat(JSON.stringify(g),")"));case 26:return e.abrupt("return",y);case 27:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},310:function(e,t){},339:function(e,t){},341:function(e,t){},352:function(e,t){},353:function(e,t){},373:function(e,t){},375:function(e,t){},420:function(e,t){},430:function(e,t){},443:function(e,t,n){},46:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s}));var a=n(33),r=n(16),i=n(38),c=n.n(i),o=n(1),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey",t=o.blob(32,e),n=t.decode.bind(t),a=t.encode.bind(t);return t.decode=function(e,t){var a=n(e,t);return new r.d(a)},t.encode=function(e,t,n){return a(e.toBuffer(),t,n)},t},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64",n=o.blob(8,t),r=n.decode.bind(n),i=n.encode.bind(n);return n.decode=function(e,t){var n=r(e,t);return new c.a(Object(a.a)(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,a){var r=t.toArray().reverse(),c=e.from(r);if(8!==c.length){var o=e.alloc(8);c.copy(o),c=o}return i(c,n,a)},n},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint128",n=o.blob(16,t),r=n.decode.bind(n),i=n.encode.bind(n);return n.decode=function(e,t){var n=r(e,t);return new c.a(Object(a.a)(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,a){var r=t.toArray().reverse(),c=e.from(r);if(16!==c.length){var o=e.alloc(16);c.copy(o),c=o}return i(c,n,a)},n}}).call(this,n(48).Buffer)},496:function(e,t,n){},497:function(e,t,n){},498:function(e,t,n){},503:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},506:function(e,t,n){},507:function(e,t,n){},508:function(e,t,n){},509:function(e,t,n){},510:function(e,t,n){},511:function(e,t,n){},512:function(e,t,n){},513:function(e,t,n){},514:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(37),c=n.n(i),o=(n(306),n(215),n(52)),u=n(59),l=n(58),s=n(31),d=n(15),m=n(27),f=n(13),p=n.n(f),v=n(21),b=n(33),y={},g=n(17),h=n(88),E=n(16),w=n(160),k=n(64),O=function(e,t){var n=h.Orderbook.LAYOUT.decode(t.data);return{pubkey:e,account:Object(k.a)({},t),info:n}},j=new E.d("EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"),S=function(e,t){var n=h.MARKETS.find((function(t){return t.address.equals(e)})),a=h.Market.getLayout((null===n||void 0===n?void 0:n.programId)||j).decode(t.data),r={pubkey:e,account:Object(k.a)({},t),info:a};return d.d.registerParser(r.info.baseMint,d.b),d.d.registerParser(r.info.quoteMint,d.b),d.d.registerParser(r.info.bids,O),d.d.registerParser(r.info.asks,O),r},x=r.a.createContext(null),N=new w.a;function M(e){var t=e.children,n=void 0===t?null:t,i=Object(s.e)().endpoint,c=Object(a.useMemo)((function(){return new Map}),[]),o=Object(a.useMemo)((function(){return new E.b(i,"recent")}),[i]),u=Object(a.useMemo)((function(){return[]}),[]),l=Object(a.useMemo)((function(){return Object(b.a)(new Set(u).values()).reduce((function(e,t){var n=t.toBase58(),a=h.TOKEN_MINTS.find((function(e){return e.address.toBase58()===n})),r=y[n],i="".concat(null===a||void 0===a?void 0:a.name,"/USDC"),c=h.MARKETS.find((function(e){return e.name===i||e.address.toBase58()===r}));return c&&e.set(n,{marketInfo:c}),e}),new Map)}),[u]);Object(a.useEffect)((function(){var e=0,t=function(){var n=Object(v.a)(p.a.mark((function n(){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(o,Object(b.a)(c.keys()));case 2:N.raiseMarketUpdated(new Set(Object(b.a)(l.keys()))),e=window.setTimeout((function(){return t()}),3e4);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(){var e=Object(v.a)(p.a.mark((function e(){var n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,Object(b.a)(l.keys()).forEach((function(e){var t=l.get(e);t&&n.set(t.marketInfo.address.toBase58(),e)})),a=Object(b.a)(l.values()).map((function(e){return e.marketInfo.address.toBase58()})),e.next=5,Object(d.e)(o,a.filter((function(e){return void 0===d.d.get(e)})),"single").then((function(e){var t=e.keys,r=e.array;return a.forEach((function(){})),r.map((function(e,a){var r=t[a],i=n.get(r);if(i){var c=l.get(i);if(c){var o=c.marketInfo.address;d.d.add(o,e,S)}}return e}))}));case 5:return r=new Set,a.forEach((function(e){var t=d.d.get(e);if(t){var n=t;d.d.get(n.info.baseMint)||r.add(n.info.baseMint.toBase58()),d.d.get(n.info.baseMint)||r.add(n.info.quoteMint.toBase58()),r.add(n.info.bids.toBase58()),r.add(n.info.asks.toBase58())}})),e.next=9,B(o,Object(b.a)(r.keys()));case 9:N.raiseMarketUpdated(new Set(Object(b.a)(l.keys()))),t();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){window.clearTimeout(e)}}),[l,c,o]);var m=Object(a.useCallback)((function(e){var t;return A(null===(t=l.get(e))||void 0===t?void 0:t.marketInfo.address.toBase58(),e)}),[l]),f=Object(a.useCallback)((function(e){var t=l.get(e),n=d.d.get((null===t||void 0===t?void 0:t.marketInfo.address.toBase58())||"");if(!n)return function(){};var a=n.info.bids.toBase58(),r=n.info.asks.toBase58();return c.set(a,(c.get(a)||0)+1),c.set(r,(c.get(r)||0)+1),function(){c.set(a,(c.get(a)||0)-1),c.set(r,(c.get(r)||0)-1),Object(b.a)(c.keys()).forEach((function(e){(c.get(e)||0)<=0&&c.delete(e)}))}}),[l,c]);return r.a.createElement(x.Provider,{value:{midPriceInUSD:m,marketEmitter:N,accountsToObserve:c,marketByMint:l,subscribeToMarket:f}},n)}var A=function(e,t){var n,a,r,i,c=h.TOKEN_MINTS.find((function(e){return e.address.toBase58()===t}));if(g.a.has((null===c||void 0===c?void 0:c.name)||""))return 1;if(!e)return 0;var o=d.d.get(e);if(!o)return 0;var u=o.info,l=(null===(n=d.d.get(u.baseMint))||void 0===n?void 0:n.info.decimals)||0,s=(null===(a=d.d.get(u.quoteMint))||void 0===a?void 0:a.info.decimals)||0,m=new h.Market(u,l,s,void 0,u.programId),f=null===(r=d.d.get(u.bids))||void 0===r?void 0:r.info,p=null===(i=d.d.get(u.asks))||void 0===i?void 0:i.info;if(f&&p){var v=new h.Orderbook(m,f.accountFlags,f.slab),b=new h.Orderbook(m,p.accountFlags,p.slab),y=v.getL2(1),E=b.getL2(1);if(y.length>0&&E.length>0)return(y[0][0]+E[0][0])/2}return 0},B=function(){var e=Object(v.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",Object(d.e)(t,n,"single").then((function(e){var t=e.keys;return e.array.map((function(e,n){var a=t[n];return d.d.add(new E.d(a),e)}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=n(30),q=n(71),I=r.a.createContext(null);function W(e){var t=e.children,n=void 0===t?null:t,a=P().accounts;return r.a.createElement(I.Provider,{value:{accounts:a}},n)}var P=function(){var e=Object(s.d)(),t=Object(a.useState)([]),n=Object(m.a)(t,2),r=n[0],i=n[1],c=Object(a.useCallback)((function(e){return Object(q.h)(e.account)?d.d.add(e.pubkey.toBase58(),e.account,q.d):Object(q.f)(e.account)?d.d.add(e.pubkey.toBase58(),e.account,q.a):Object(q.g)(e.account)?d.d.add(e.pubkey.toBase58(),e.account,q.c):void 0}),[]);return Object(a.useEffect)((function(){i([]);var t=function(){var t=Object(v.a)(p.a.mark((function t(){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getProgramAccounts(C.a);case 2:return n=t.sent.map(c).filter((function(e){return void 0!==e})),a=Object(b.a)(n.filter((function(e){return void 0!==(null===e||void 0===e?void 0:e.info).lendingMarket})).map((function(e){return e})).map((function(e){return[d.d.registerParser(null===e||void 0===e?void 0:e.info.collateralMint.toBase58(),d.b),d.d.registerParser(null===e||void 0===e?void 0:e.info.liquidityMint.toBase58(),d.b),d.d.registerParser((null===e||void 0===e?void 0:e.info.dexMarketOption)?null===e||void 0===e?void 0:e.info.dexMarket.toBase58():"",S)].filter((function(e){return e}))}))).flat(),t.next=6,Object(d.e)(e,a,"single").then((function(e){var t=e.keys;return e.array.map((function(e,n){var a=t[n];return d.d.add(a,e),e}))}));case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Promise.all([t()]).then((function(e){i(e.flat())}))}),[e,c]),Object(a.useEffect)((function(){var t=e.onProgramAccountChange(C.a,function(){var e=Object(v.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.accountId,a={pubkey:new E.d(n),account:t.accountInfo},c(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"singleGossip");return function(){e.removeProgramAccountChangeListener(t)}}),[e,r,c]),{accounts:r}},L=n(86),K=n(521),R=n(522),T=n(523),F=n(524),D=n(525),U=n(526),z=n(290),_=n(122),Y=n(298),J=n(276),G=n.n(J),H=n(25),V=n.n(H),Z=(n(443),function(e){var t,n=e.style,i=e.className,c="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58(),o=Object(a.useRef)();return Object(a.useEffect)((function(){c&&o.current&&(o.current.innerHTML="",o.current.className=i||"",o.current.appendChild(G()((null===n||void 0===n?void 0:n.width)||16,parseInt(V.a.decode(c).toString("hex").slice(5,15),16))))}),[c,n,i]),r.a.createElement("div",{className:"identicon-wrapper",ref:o,style:e.style})}),$=function(e){var t,n=Object(l.c)().wallet,a=Object(d.h)().account;return n&&n.publicKey?r.a.createElement("div",{className:"wallet-wrapper"},r.a.createElement("span",null,g.d.format(((null===a||void 0===a?void 0:a.lamports)||0)/E.c)," SOL"),r.a.createElement("div",{className:"wallet-key"},Object(g.i)("".concat(n.publicKey)),r.a.createElement(Z,{address:null===(t=n.publicKey)||void 0===t?void 0:t.toBase58(),style:{marginLeft:"0.5rem",display:"flex"}}))):null},Q=n(520),X=n(517),ee=function(){var e=Object(l.c)(),t=e.providerUrl,n=e.setProvider,a=Object(s.e)(),i=a.endpoint,c=a.setEndpoint;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"grid"}},"Network:"," ",r.a.createElement(X.a,{onSelect:c,value:i,style:{marginRight:8}},s.b.map((function(e){var t=e.name,n=e.endpoint;return r.a.createElement(X.a.Option,{value:n,key:n},t)})))),r.a.createElement("div",{style:{display:"grid"}},"Wallet:"," ",r.a.createElement(X.a,{onSelect:n,value:t},l.a.map((function(e){var t=e.name,n=e.url;return r.a.createElement(X.a.Option,{value:n,key:n},t)})))))},te=function(e){var t=Object(l.c)(),n=t.connected,a=t.wallet;return r.a.createElement("div",{className:"App-Bar-right"},r.a.createElement($,null),r.a.createElement("div",null,!n&&r.a.createElement(_.a,{type:"text",size:"large",onClick:n?a.disconnect:a.connect,style:{color:"#2abdd2"}},"Connect"),n&&r.a.createElement(Y.a,{placement:"bottomRight",title:"Wallet public key",trigger:"click"})),r.a.createElement(Y.a,{placement:"topRight",title:"Settings",content:r.a.createElement(ee,null),trigger:"click"},r.a.createElement(_.a,{shape:"circle",size:"large",type:"text",icon:r.a.createElement(Q.a,null)})),e.right)},ne=function(e){var t=Object(s.e)().env,n=Object(u.f)();console.log(n.pathname);var a={"/dashboard":"2","/deposit":"3","/borrow":"4","/faucet":"4"},i=a[Object(b.a)(Object.keys(a)).find((function(e){return n.pathname.startsWith(e)}))||""]||"1";return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Banner"},r.a.createElement("div",{className:"Banner-description"},"Oyster Lending is unaudited software. Use at your own risk.")),r.a.createElement(z.a,{title:"Oyster Lending",navTheme:"realDark",headerTheme:"dark",theme:"dark",layout:"side",primaryColor:"#d83aeb",logo:r.a.createElement("div",{className:"App-logo"}),rightContentRender:function(){return r.a.createElement(te,null)},links:[r.a.createElement("div",{title:"Fork"},r.a.createElement(K.a,null))],menuContentRender:function(){return r.a.createElement(L.a,{theme:"dark",defaultSelectedKeys:[i],mode:"inline"},r.a.createElement(L.a.Item,{key:"1",icon:r.a.createElement(R.a,null)},r.a.createElement(o.b,{to:{pathname:"/"}},"Home")),r.a.createElement(L.a.Item,{key:"2",icon:r.a.createElement(T.a,null)},r.a.createElement(o.b,{to:{pathname:"/dashboard"}},"Dashboard")),r.a.createElement(L.a.Item,{key:"3",icon:r.a.createElement(F.a,null)},r.a.createElement(o.b,{to:{pathname:"/deposit"}},"Deposit")),r.a.createElement(L.a.Item,{key:"4",icon:r.a.createElement(D.a,null)},r.a.createElement(o.b,{to:{pathname:"/borrow"}},"Borrow")),"mainnet-beta"!==t&&r.a.createElement(L.a.Item,{key:"5",icon:r.a.createElement(U.a,null)},r.a.createElement(o.b,{to:{pathname:"/faucet"}},"Faucet")))}},e.children))};function ae(){return{userAccounts:Object(d.f)().userAccounts}}var re=function(){return d.d.byParser(q.d).map((function(e){return d.d.get(e)})).filter((function(e){return void 0!==e}))};function ie(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){r(re());var e=d.d.emitter.onCache((function(e){e.parser===q.d&&r(re())}));return function(){e()}}),[r]),{reserveAccounts:n}}function ce(e){var t="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),n=Object(a.useState)(),r=Object(m.a)(n,2),i=r[0],c=r[1];return Object(a.useEffect)((function(){c(d.d.get(t));var e=d.d.emitter.onCache((function(e){e.id===t&&c(d.d.get(t))}));return function(){e()}}),[t,c]),i}function oe(e){var t=Object(s.e)().tokenMap,n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();return Object(g.h)(t,n)}function ue(e){var t=ae().userAccounts,n=Object(d.g)(e),r=Object(a.useMemo)((function(){return t.filter((function(t){return null===e||void 0===e?void 0:e.equals(t.info.mint)})).sort((function(e,t){return t.info.amount.sub(e.info.amount).toNumber()}))}),[t,e]),i=Object(a.useMemo)((function(){return r.reduce((function(e,t){return e+t.info.amount.toNumber()}),0)}),[r]);return{balance:Object(g.f)(i,n),balanceLamports:i,accounts:r}}function le(e){var t=Object(d.g)(null===e||void 0===e?void 0:e.collateralMint),n=ue(null===e||void 0===e?void 0:e.collateralMint),a=n.balanceLamports,r=n.accounts,i=((null===e||void 0===e?void 0:e.totalLiquidity.toNumber())||0)*(a/((null===e||void 0===e?void 0:e.collateralMintSupply.toNumber())||1));return{balance:Object(g.f)(i,t),balanceLamports:i,accounts:r}}var se=function(){return d.d.byParser(q.c).map((function(e){return d.d.get(e)})).filter((function(e){return void 0!==e}))};function de(){var e=ae().userAccounts,t=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){r(se());var e=d.d.emitter.onCache((function(e){e.parser===q.c&&r(se())}));return function(){e()}}),[r]),{obligations:n}}().obligations,n=Object(a.useMemo)((function(){return e.reduce((function(e,t){var n=t.info.mint.toBase58();return e.set(n,[].concat(Object(b.a)(e.get(n)||[]),[t])),e}),new Map)}),[e]);return{userObligations:Object(a.useMemo)((function(){return 0===n.size?[]:t.filter((function(e){return void 0!==n.get(e.info.tokenMint.toBase58())})).map((function(e){return{oblication:e,userAccounts:Object(b.a)(n.get(e.info.tokenMint.toBase58()))}}))}),[n,t])}}var me=function(e){var t,n,a=Object(s.e)().tokenMap,i=Object(g.g)(a,e.mintAddress);return i?r.a.createElement("img",{alt:"Token icon",className:e.className,key:i,width:(null===(t=e.style)||void 0===t?void 0:t.width)||"20",height:(null===(n=e.style)||void 0===n?void 0:n.height)||"20",src:i,style:Object(k.a)({marginRight:"0.5rem",marginTop:"0.11rem",borderRadius:"10rem",backgroundColor:"white",backgroundClip:"padding-box"},e.style)}):r.a.createElement(Z,{address:e.mintAddress,style:Object(k.a)({marginRight:"0.5rem",width:20,height:20,marginTop:2},e.style)})},fe=n(518),pe=function(e){var t=oe(e.reserve.liquidityMint),n=Object(d.g)(e.reserve.liquidityMint),a=Object(g.f)(e.reserve.totalLiquidity.toNumber(),n),i=Object(g.c)(e.reserve.totalBorrows).toNumber();return console.log(n),r.a.createElement(o.b,{to:"/reserve/".concat(e.address.toBase58())},r.a.createElement(fe.a,null,r.a.createElement("div",{className:"home-item"},r.a.createElement("span",{style:{display:"flex"}},r.a.createElement(me,{mintAddress:e.reserve.liquidityMint}),t),r.a.createElement("div",null,g.d.format(a)," ",t),r.a.createElement("div",null,g.d.format(i)," ",t),r.a.createElement("div",null,"--"),r.a.createElement("div",null,"--"))))},ve=(n(496),function(){var e=ie().reserveAccounts;return r.a.createElement("div",{className:"flexColumn"},r.a.createElement("div",{className:"home-item home-header"},r.a.createElement("div",null,"Asset"),r.a.createElement("div",null,"Market Size"),r.a.createElement("div",null,"Total Borrowed"),r.a.createElement("div",null,"Deposit APY"),r.a.createElement("div",null,"Borrow APY")),e.map((function(e){return r.a.createElement(pe,{reserve:e.info,address:e.pubkey})})))}),be=function(e){var t=oe(e.reserve.liquidityMint),n=le(e.reserve).balance;return r.a.createElement(o.b,{to:"/borrow/".concat(e.address.toBase58())},r.a.createElement(fe.a,null,r.a.createElement("div",{className:"borrow-item"},r.a.createElement("span",{style:{display:"flex"}},r.a.createElement(me,{mintAddress:e.reserve.liquidityMint}),t),r.a.createElement("div",null,g.d.format(n)," ",t),r.a.createElement("div",null,"--"),r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement("span",null,"Borrow"))))))},ye=(n(497),function(){var e=ie().reserveAccounts;return r.a.createElement("div",{className:"flexColumn"},r.a.createElement("div",{className:"borrow-item deposit-header"},r.a.createElement("div",null,"Asset"),r.a.createElement("div",null,"Available fro you"),r.a.createElement("div",null,"APY"),r.a.createElement("div",null,"Action")),e.map((function(e){return r.a.createElement(be,{reserve:e.info,address:e.pubkey})})))}),ge=(n(498),n(98)),he=n(74),Ee=n(83),we=n(108),ke=n(107),Oe=n(519),je=function(e){Object(we.a)(n,e);var t=Object(ke.a)(n);function n(){var e;Object(he.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){var n=t.target.value;(/^-?\d*(\.\d*)?$/.test(n)||""===n||"-"===n)&&e.props.onChange(n)},e.onBlur=function(){var t=e.props,n=t.value,a=t.onBlur,r=t.onChange,i=n;"."!==n.charAt(n.length-1)&&"-"!==n||(i=n.slice(0,-1)),(n.startsWith(".")||n.startsWith("-."))&&(i=i.replace(".","0.")),r(i.replace(/0*(\d+)/,"$1")),a&&a()},e}return Object(Ee.a)(n,[{key:"render",value:function(){return r.a.createElement(Oe.a,Object.assign({},this.props,{onChange:this.onChange,onBlur:this.onBlur,maxLength:25}))}}]),n}(r.a.Component),Se=n(56),xe=n(39);function Ne(e,t,n,a,r,i){if(!n.info.isNative)return n.pubkey;var c=Ce(e,a,r,i);return e.push(xe.c.createInitAccountInstruction(C.b,C.c,c,a)),t.push(xe.c.createCloseAccountInstruction(C.b,c,a,a,[])),c}function Me(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:65528,r=new E.a;return e.push(E.g.createAccount({fromPubkey:t,newAccountPubkey:r.publicKey,lamports:0,space:a,programId:C.b})),n.push(r),r.publicKey}function Ae(e,t,n,a){var r=new E.a;return e.push(E.g.createAccount({fromPubkey:t,newAccountPubkey:r.publicKey,lamports:n,space:ge.LendingObligationLayout.span,programId:C.a})),a.push(r),r.publicKey}function Be(e,t,n,a){var r=new E.a;return e.push(E.g.createAccount({fromPubkey:t,newAccountPubkey:r.publicKey,lamports:n,space:xe.b.span,programId:C.b})),a.push(r),r.publicKey}function Ce(e,t,n,a){var r=new E.a;return e.push(E.g.createAccount({fromPubkey:t,newAccountPubkey:r.publicKey,lamports:n,space:xe.a.span,programId:C.b})),a.push(r),r.publicKey}function qe(e,t,n,a,r,i,c,o){var u,l=i.toBase58(),s=d.d.byParser(d.c).map((function(e){return d.d.get(e)})).find((function(e){return void 0!==e&&e.info.mint.toBase58()===l&&e.info.owner.toBase58()===t.toBase58()&&(void 0===o||!o.has(e.pubkey.toBase58()))})),m=l===C.c.toBase58();return s&&!m?u=s.pubkey:(u=function(e,t,n,a,r,i){var c=Ce(e,t,n,i);return e.push(xe.c.createInitAccountInstruction(C.b,a,c,r)),c}(n,e,r,i,t,c),m&&a.push(xe.c.createCloseAccountInstruction(C.b,u,e,e,[]))),u}var Ie,We=function(){var e=Object(v.a)(p.a.mark((function e(t,n,a,r,i,c,o,u){var l,f,v,y,h,w,k,O,j,S,x,N,M,A,B,q,I,W,P,L,K;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Se.a)({message:"Borrowing funds...",description:"Please review transactions to approve.",type:"warn"}),l=[],f=[],v=[],e.next=6,o.getMinimumBalanceForRentExemption(xe.a.span);case 6:return y=e.sent,e.t0=Ae,e.t1=f,e.t2=u.publicKey,e.next=12,o.getMinimumBalanceForRentExemption(ge.LendingObligationLayout.span);case 12:return e.t3=e.sent,e.t4=l,h=(0,e.t0)(e.t1,e.t2,e.t3,e.t4),e.t5=Be,e.t6=f,e.t7=u.publicKey,e.next=20,o.getMinimumBalanceForRentExemption(xe.b.span);case 20:return e.t8=e.sent,e.t9=l,w=(0,e.t5)(e.t6,e.t7,e.t8,e.t9),k=Ce(f,u.publicKey,y,l),e.next=26,qe(u.publicKey,u.publicKey,f,v,y,a.liquidityMint,l);case 26:return O=e.sent,e.next=29,Object(s.c)(o,u,f,Object(b.a)(l));case 29:return j=e.sent,Object(Se.a)({message:"Obligation accounts created",description:"Transaction ".concat(j),type:"success"}),Object(Se.a)({message:"Adding Liquidity...",description:"Please review transactions to approve.",type:"warn"}),l=[],f=[],v=[],e.next=37,E.d.findProgramAddress([i.lendingMarket.toBuffer()],C.a);case 37:return S=e.sent,x=Object(m.a)(S,1),N=x[0],e.next=42,d.d.query(o,i.collateralMint,d.b);case 42:if(M=e.sent,A=Object(g.j)(n,null===M||void 0===M?void 0:M.info),B=Ne(f,v,t,u.publicKey,A+y,l),f.push(xe.c.createApproveInstruction(C.b,B,N,u.publicKey,[],A)),q=d.d.get(i.lendingMarket),I=a.dexMarketOption?a.dexMarket:i.dexMarket,W=d.d.get(I)){e.next=51;break}throw new Error("Dex market doesn't exsists.");case 51:return P=q.info.quoteMint.equals(i.liquidityMint)?null===W||void 0===W?void 0:W.info.bids:null===W||void 0===W?void 0:W.info.asks,L=Me(f,u.publicKey,l),f.push(Object(ge.borrowInstruction)(A,B,O,c,i.collateralSupply,r,a.liquiditySupply,h,w,k,u.publicKey,N,I,P,L)),e.prev=54,e.next=57,Object(s.c)(o,u,f.concat(v),l,!0);case 57:K=e.sent,Object(Se.a)({message:"Funds borrowed.",type:"success",description:"Transaction - ".concat(K)}),e.next=63;break;case 61:e.prev=61,e.t10=e.catch(54);case 63:case"end":return e.stop()}}),e,null,[[54,61]])})));return function(t,n,a,r,i,c,o,u){return e.apply(this,arguments)}}(),Pe=n(116),Le=function(){var e=Object(v.a)(p.a.mark((function e(t,n,a,r,i,c){var o,u,l,f,v,b,y,h,w,k,O,j,S,x;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=80,Object(Se.a)({message:"Depositing funds...",description:"Please review transactions to approve.",type:"warn"}),u=!0,l=[],f=[],v=[],e.next=8,i.getMinimumBalanceForRentExemption(xe.a.span);case 8:return b=e.sent,e.next=11,E.d.findProgramAddress([a.lendingMarket.toBuffer()],C.a);case 11:return y=e.sent,h=Object(m.a)(y,1),w=h[0],e.next=16,d.d.query(i,a.liquidityMint,d.b);case 16:if(k=e.sent,O=Object(g.j)(n,null===k||void 0===k?void 0:k.info),j=Ne(f,v,t,c.publicKey,O+b,l),f.push(xe.c.createApproveInstruction(C.b,j,w,c.publicKey,[],O)),!u){e.next=26;break}return e.next=23,qe(c.publicKey,c.publicKey,f,v,b,a.collateralMint,l);case 23:S=e.sent,e.next=27;break;case 26:S=Ce(f,c.publicKey,b,l);case 27:return u?f.push(Object(Pe.b)(O,j,S,w,r,a.liquiditySupply,a.collateralMint)):f.push(Object(Pe.c)(O,o,j,S,r,a.liquidityMint,a.liquiditySupply,a.collateralMint,a.collateralSupply,a.lendingMarket,w,a.dexMarket)),e.prev=28,e.next=31,Object(s.c)(i,c,f.concat(v),l,!0);case 31:x=e.sent,Object(Se.a)({message:"Funds deposited.",type:"success",description:"Transaction - ".concat(x)}),e.next=37;break;case 35:e.prev=35,e.t0=e.catch(28);case 37:case"end":return e.stop()}}),e,null,[[28,35]])})));return function(t,n,a,r,i,c){return e.apply(this,arguments)}}(),Ke=n(289),Re=function(){var e=Object(v.a)(p.a.mark((function e(t,n,a,r,i,c,o,u){var l,d,f,v,b,y,h,w,k,O,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Se.a)({message:"Repaing funds...",description:"Please review transactions to approve.",type:"warn"}),l=[],d=[],f=[],e.next=6,o.getMinimumBalanceForRentExemption(xe.a.span);case 6:return v=e.sent,e.next=9,E.d.findProgramAddress([i.info.lendingMarket.toBuffer()],C.a);case 9:return b=e.sent,y=Object(m.a)(b,1),h=y[0],w=t.pubkey,d.push(xe.c.createApproveInstruction(C.b,w,h,u.publicKey,[],n)),e.next=16,qe(u.publicKey,u.publicKey,d,f,v,c.info.collateralMint,l);case 16:return k=e.sent,O=n/Object(g.c)(a.info.borrowAmount).toNumber(),console.log(O),d.push(xe.c.createApproveInstruction(C.b,r.pubkey,h,u.publicKey,[],r.info.amount.toNumber())),d.push(Object(Ke.a)(n,w,k,i.pubkey,i.info.liquiditySupply,c.pubkey,c.info.collateralSupply,a.pubkey,a.info.tokenMint,r.pubkey,h)),e.prev=21,e.next=24,Object(s.c)(o,u,d.concat(f),l,!0);case 24:j=e.sent,Object(Se.a)({message:"Funds repaid.",type:"success",description:"Transaction - ".concat(j)}),e.next=30;break;case 28:e.prev=28,e.t0=e.catch(21);case 30:case"end":return e.stop()}}),e,null,[[21,28]])})));return function(t,n,a,r,i,c,o,u){return e.apply(this,arguments)}}(),Te=function(){var e=Object(v.a)(p.a.mark((function e(t,n,a,r,i,c){var o,u,l,d,f,v,b,y,g,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Se.a)({message:"Withdrawing funds...",description:"Please review transactions to approve.",type:"warn"}),o=[],u=[],l=[],e.next=6,i.getMinimumBalanceForRentExemption(xe.a.span);case 6:return d=e.sent,e.next=9,E.d.findProgramAddress([a.lendingMarket.toBuffer()],C.a);case 9:return f=e.sent,v=Object(m.a)(f,1),b=v[0],y=t.pubkey,u.push(xe.c.createApproveInstruction(C.b,y,b,c.publicKey,[],n)),e.next=16,qe(c.publicKey,c.publicKey,u,l,d,a.liquidityMint,o);case 16:return g=e.sent,u.push(Object(Pe.e)(n,y,g,r,a.collateralMint,a.liquiditySupply,b)),e.prev=18,e.next=21,Object(s.c)(i,c,u.concat(l),o,!0);case 21:h=e.sent,Object(Se.a)({message:"Funds deposited.",type:"success",description:"Transaction - ".concat(h)}),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(18);case 27:case"end":return e.stop()}}),e,null,[[18,25]])})));return function(t,n,a,r,i,c){return e.apply(this,arguments)}}(),Fe=X.a.Option,De=function(e){var t=ie().reserveAccounts,n=Object(s.e)().tokenMap;return r.a.createElement(X.a,{size:"large",showSearch:!0,style:{minWidth:120},placeholder:"Collateral",value:e.mint,onChange:function(t){e.onMintChange&&e.onMintChange(t)},filterOption:function(e,t){var n;return(null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase().indexOf(e.toLowerCase()))>=0}},t.filter((function(t){return t.info!==e.reserve})).map((function(e){var t=e.info.liquidityMint.toBase58(),a=e.pubkey.toBase58(),i=Object(g.h)(n,t);return r.a.createElement(Fe,{key:a,value:a,name:i,title:a},r.a.createElement("div",{key:a,style:{display:"flex",alignItems:"center"}},r.a.createElement(me,{mintAddress:t}),i))})))},Ue=(n(503),function(e){var t=Object(s.d)(),n=Object(l.c)().wallet,i=Object(a.useState)(""),c=Object(m.a)(i,2),o=c[0],u=c[1],f=e.reserve,p=e.address,v=Object(a.useState)(),b=Object(m.a)(v,2),y=b[0],g=b[1],h=Object(a.useMemo)((function(){var e=d.d.byParser(ge.LendingReserveParser).find((function(e){return e===y}))||"";return d.d.get(e)}),[y]),E=oe(null===f||void 0===f?void 0:f.liquidityMint),w=ue(null===h||void 0===h?void 0:h.info.collateralMint).accounts,k=Object(a.useCallback)((function(){h&&We(w[0],parseFloat(o),f,p,h.info,h.pubkey,t,n)}),[t,n,o,h,f,w,p]);return r.a.createElement(fe.a,{className:e.className,bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},r.a.createElement("div",{className:"borrow-input-title"},"How much would you like to borrow?"),r.a.createElement("div",{className:"token-input"},r.a.createElement(me,{mintAddress:null===f||void 0===f?void 0:f.liquidityMint}),r.a.createElement(je,{value:o,onChange:function(e){u(e)},autoFocus:!0,style:{fontSize:20,boxShadow:"none",borderColor:"transparent",outline:"transpaernt"},placeholder:"0.00"}),r.a.createElement("div",null,E)),r.a.createElement("div",{className:"borrow-input-title"},"Select collateral account?"),r.a.createElement(De,{reserve:f,mint:y,onMintChange:g}),r.a.createElement(_.a,{type:"primary",onClick:k,disabled:0===w.length},"Borrow")))}),ze=n(516),_e=ze.a.Text;!function(e){e.Deposit="deposit",e.Borrow="borrow"}(Ie||(Ie={}));var Ye=function(e){var t=e.reserve,n=e.mode,a=oe(null===t||void 0===t?void 0:t.liquidityMint),i=Object(d.g)(e.reserve.liquidityMint),c=Object(g.f)(e.reserve.totalLiquidity.toNumber(),i),o=t.config.loanToValueRatio/100,u=t.config.maxUtilizationRate/100,l=t.config.liquidationBonus/100,s=u-l,m=null;return n===Ie.Deposit?m=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-row"},r.a.createElement(_e,{type:"secondary",className:"card-cell "},"Deposit APY:"),r.a.createElement("div",{className:"card-cell "},g.e.format(.048))),r.a.createElement("div",{className:"card-row"},r.a.createElement(_e,{type:"secondary",className:"card-cell "},"Maxiumum LTV:"),r.a.createElement("div",{className:"card-cell "},g.e.format(s))),r.a.createElement("div",{className:"card-row"},r.a.createElement(_e,{type:"secondary",className:"card-cell "},"Liquidation threashold:"),r.a.createElement("div",{className:"card-cell "},g.e.format(u))),r.a.createElement("div",{className:"card-row"},r.a.createElement(_e,{type:"secondary",className:"card-cell "},"Liquidation penalty:"),r.a.createElement("div",{className:"card-cell "},g.e.format(l)))):n===Ie.Borrow&&(m=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-row"},r.a.createElement(_e,{type:"secondary",className:"card-cell "},"Borrow APY:"),r.a.createElement("div",{className:"card-cell "},g.e.format(.048))))),r.a.createElement(fe.a,{className:e.className,title:r.a.createElement("div",{style:{display:"flex",alignItems:"center",fontSize:"1.2rem",justifyContent:"center"}},r.a.createElement(me,{mintAddress:null===t||void 0===t?void 0:t.liquidityMint,style:{width:30,height:30}})," ",a," Reserve Overview")},r.a.createElement("div",{className:"card-row"},r.a.createElement(_e,{type:"secondary",className:"card-cell "},"Utilization rate:"),r.a.createElement("div",{className:"card-cell "},g.e.format(o))),r.a.createElement("div",{className:"card-row"},r.a.createElement(_e,{type:"secondary",className:"card-cell "},"Available liquidity:"),r.a.createElement("div",{className:"card-cell "},g.d.format(c)," ",a)),m)},Je=function(){var e=ce(Object(u.g)().id),t=null===e||void 0===e?void 0:e.info;return t&&e?r.a.createElement("div",{className:"borrow-reserve"},r.a.createElement("div",{className:"borrow-reserve-container"},r.a.createElement(Ue,{className:"borrow-reserve-item borrow-reserve-item-left",reserve:t,address:e.pubkey}),r.a.createElement(Ye,{className:"borrow-reserve-item borrow-reserve-item-right",reserve:t,address:e.pubkey,mode:Ie.Borrow}))):null},Ge=function(e){var t=e.obligation,n=d.d.get(t.info.borrowReserve),a=oe(null===n||void 0===n?void 0:n.info.liquidityMint),i=Object(d.g)(n.info.liquidityMint),c=Object(g.f)(Object(g.c)(t.info.borrowAmount),i);return r.a.createElement(o.b,{to:"/repay/".concat(null===n||void 0===n?void 0:n.pubkey.toBase58(),"/").concat(t.pubkey.toBase58())},r.a.createElement(fe.a,null,r.a.createElement("div",{className:"borrow-item"},r.a.createElement("span",{style:{display:"flex"}},r.a.createElement(me,{mintAddress:null===n||void 0===n?void 0:n.info.liquidityMint}),a),r.a.createElement("div",null,g.d.format(c)," ",a),r.a.createElement("div",null,"--"),r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement("span",null,"Repay"))))))},He=function(){var e=de().userObligations;return r.a.createElement("div",{className:"flexColumn"},r.a.createElement("div",null,r.a.createElement("span",null,"Loans"),e.length>0&&r.a.createElement("div",{className:"deposit-item deposit-header"},r.a.createElement("div",null,"Asset"),r.a.createElement("div",null,"Your loan balance"),r.a.createElement("div",null,"APY"),r.a.createElement("div",null,"Action")),e.map((function(e){return r.a.createElement(Ge,{obligation:e.oblication})}))))},Ve=function(e){var t=oe(e.reserve.liquidityMint),n=ue(e.reserve.liquidityMint).balance,a=le(e.reserve).balance;return r.a.createElement(o.b,{to:"/deposit/".concat(e.address.toBase58())},r.a.createElement(fe.a,null,r.a.createElement("div",{className:"deposit-item"},r.a.createElement("span",{style:{display:"flex"}},r.a.createElement(me,{mintAddress:e.reserve.liquidityMint}),t),r.a.createElement("div",null,g.d.format(n)," ",t),r.a.createElement("div",null,g.d.format(a)," ",t),r.a.createElement("div",null,"--"),r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement("span",null,"Deposit"))))))},Ze=(n(504),function(){var e=ie().reserveAccounts;return r.a.createElement("div",{className:"flexColumn"},r.a.createElement("div",{className:"deposit-item deposit-header"},r.a.createElement("div",null,"Asset"),r.a.createElement("div",null,"Your wallet balance"),r.a.createElement("div",null,"Your balance in Oyster"),r.a.createElement("div",null,"APY"),r.a.createElement("div",null,"Action")),e.map((function(e){return r.a.createElement(Ve,{reserve:e.info,address:e.pubkey})})))}),$e=(n(505),n(506),function(e){var t=Object(s.d)(),n=Object(l.c)().wallet,i=Object(a.useState)(""),c=Object(m.a)(i,2),o=c[0],u=c[1],d=e.reserve,f=e.address,p=oe(null===d||void 0===d?void 0:d.liquidityMint),v=ue(null===d||void 0===d?void 0:d.liquidityMint).accounts,b=Object(a.useCallback)((function(){Le(v[0],parseFloat(o),d,f,t,n)}),[t,n,o,d,v,f]);return r.a.createElement(fe.a,{className:e.className,bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},r.a.createElement("div",{className:"deposit-input-title"},"How much would you like to deposit?"),r.a.createElement("div",{className:"token-input"},r.a.createElement(me,{mintAddress:null===d||void 0===d?void 0:d.liquidityMint}),r.a.createElement(je,{value:o,onChange:function(e){u(e)},autoFocus:!0,style:{fontSize:20,boxShadow:"none",borderColor:"transparent",outline:"transpaernt"},placeholder:"0.00"}),r.a.createElement("div",null,p)),r.a.createElement(_.a,{type:"primary",onClick:b,disabled:0===v.length},"Deposit")))}),Qe=(n(507),function(e){var t=oe(e.reserve.liquidityMint),n=ue(e.reserve.liquidityMint).balance,a=le(e.reserve).balance;return r.a.createElement(fe.a,{className:e.className,bodyStyle:{display:"flex",justifyContent:"space-around"}},r.a.createElement("div",{className:"deposit-info-line-item "},r.a.createElement("div",null,"Your balance in Oyster"),r.a.createElement("div",null,g.d.format(a)," ",t)),r.a.createElement("div",{className:"deposit-info-line-item "},r.a.createElement("div",null,"Your wallet balance"),r.a.createElement("div",null,g.d.format(n)," ",t)),r.a.createElement("div",{className:"deposit-info-line-item "},r.a.createElement("div",null,"Health factor"),r.a.createElement("div",null,"--")))}),Xe=function(){var e=ce(Object(u.g)().id),t=null===e||void 0===e?void 0:e.info;return t&&e?r.a.createElement("div",{className:"deposit-reserve"},r.a.createElement(Qe,{className:"deposit-reserve-item",reserve:t,address:e.pubkey}),r.a.createElement("div",{className:"deposit-reserve-container"},r.a.createElement($e,{className:"deposit-reserve-item deposit-reserve-item-left",reserve:t,address:e.pubkey}),r.a.createElement(Ye,{className:"deposit-reserve-item deposit-reserve-item-right",reserve:t,address:e.pubkey,mode:Ie.Deposit}))):null},et=(n(508),ze.a.Text),tt=function(e){var t=e.reserve,n=e.address,a=oe(null===t||void 0===t?void 0:t.liquidityMint),i=ue(e.reserve.liquidityMint).balance,c=le(e.reserve).balance;return r.a.createElement(fe.a,{className:e.className,title:r.a.createElement("div",{style:{display:"flex",alignItems:"center",fontSize:"1.2rem",justifyContent:"center"}},"Your Information")},r.a.createElement("h3",null,"Borrows"),r.a.createElement("div",{className:"card-row"},r.a.createElement(et,{type:"secondary",className:"card-cell "},"Borrowed"),r.a.createElement("div",{className:"card-cell "},g.d.format(0)," ",a)),r.a.createElement("div",{className:"card-row"},r.a.createElement(et,{type:"secondary",className:"card-cell "},"Health factor:"),r.a.createElement("div",{className:"card-cell "},"--")),r.a.createElement("div",{className:"card-row"},r.a.createElement(et,{type:"secondary",className:"card-cell "},"Loan to value:"),r.a.createElement("div",{className:"card-cell "},g.d.format(0))),r.a.createElement("div",{className:"card-row"},r.a.createElement(et,{type:"secondary",className:"card-cell "},"Available to you:"),r.a.createElement("div",{className:"card-cell "},g.d.format(0)," ",a)),r.a.createElement("h3",null,"Deposits"),r.a.createElement("div",{className:"card-row"},r.a.createElement(et,{type:"secondary",className:"card-cell "},"Wallet balance:"),r.a.createElement("div",{className:"card-cell "},g.d.format(i)," ",a)),r.a.createElement("div",{className:"card-row"},r.a.createElement(et,{type:"secondary",className:"card-cell "},"You already deposited:"),r.a.createElement("div",{className:"card-cell "},g.d.format(c)," ",a)),r.a.createElement("div",{className:"card-row",style:{marginTop:20,justifyContent:"space-evenly"}},r.a.createElement(o.b,{to:"/deposit/".concat(n)},r.a.createElement(_.a,null,"Deposit")),r.a.createElement(o.b,{to:"/borrow/".concat(n)},r.a.createElement(_.a,null,"Borrow")),r.a.createElement(o.b,{to:"/withdraw/".concat(n)},r.a.createElement(_.a,null,"Withdraw")),r.a.createElement(o.b,{to:"/repay/".concat(n)},r.a.createElement(_.a,null,"Repay"))))},nt=(n(509),function(e){return r.a.createElement(fe.a,{className:e.className,title:r.a.createElement(r.a.Fragment,null,"Reserve Status & Configuration"),bodyStyle:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},"TODO: Reserve Status - add chart"))}),at=function(){var e=ce(Object(u.g)().id),t=null===e||void 0===e?void 0:e.info;return t&&e?r.a.createElement("div",{className:"reserve-overview"},r.a.createElement("div",{className:"reserve-overview-container"},r.a.createElement(nt,{className:"reserve-overview-item reserve-overview-item-left",reserve:t,address:e.pubkey}),r.a.createElement(tt,{className:"reserve-overview-item reserve-overview-item-right",reserve:t,address:e.pubkey}))):null},rt=(n(510),n(511),function(e){var t=Object(s.d)(),n=Object(l.c)().wallet,i=Object(a.useState)(""),c=Object(m.a)(i,2),o=c[0],u=c[1],d=e.reserve,f=e.address,p=oe(null===d||void 0===d?void 0:d.liquidityMint),v=ue(null===d||void 0===d?void 0:d.collateralMint),b=v.balanceLamports,y=v.accounts,g=le(d).balance,h=Object(a.useCallback)((function(){Te(y[0],Math.ceil(b*(parseFloat(o)/g)),d,f,t,n)}),[t,n,b,g,o,d,y,f]);return r.a.createElement(fe.a,{className:e.className,bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},r.a.createElement("div",{className:"withdraw-input-title"},"How much would you like to withdraw?"),r.a.createElement("div",{className:"token-input"},r.a.createElement(me,{mintAddress:null===d||void 0===d?void 0:d.liquidityMint}),r.a.createElement(je,{value:o,onChange:function(e){u(e)},autoFocus:!0,style:{fontSize:20,boxShadow:"none",borderColor:"transparent",outline:"transpaernt"},placeholder:"0.00"}),r.a.createElement("div",null,p)),r.a.createElement(_.a,{type:"primary",onClick:h,disabled:0===y.length},"Withdraw")))}),it=function(){var e=ce(Object(u.g)().id),t=null===e||void 0===e?void 0:e.info;return t&&e?r.a.createElement("div",{className:"deposit-reserve"},r.a.createElement(Qe,{className:"deposit-reserve-item",reserve:t,address:e.pubkey}),r.a.createElement("div",{className:"deposit-reserve-container"},r.a.createElement(rt,{className:"deposit-reserve-item deposit-reserve-item-left",reserve:t,address:e.pubkey}),r.a.createElement(Ye,{className:"deposit-reserve-item deposit-reserve-item-right",reserve:t,address:e.pubkey,mode:Ie.Deposit}))):null},ct=function(){var e=Object(s.d)(),t=Object(l.c)().wallet,n=Object(a.useCallback)((function(){e.requestAirdrop(t.publicKey,2*E.c).then((function(){Object(Se.a)({message:"Account funded.",type:"success"})}))}),[t,e]);return r.a.createElement("div",{className:"flexColumn",style:{flex:1}},r.a.createElement(fe.a,{title:"Faucet",bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"},style:{flex:1}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}},r.a.createElement("div",{className:"deposit-input-title",style:{margin:10}},"This Faucet will help you fund your accounts outside of Solana main network."),r.a.createElement(_.a,{type:"primary",onClick:n},"Give me SOL"))))},ot=n(515),ut=(n(512),function(e){var t=Object(s.d)(),n=Object(l.c)().wallet,i=Object(a.useState)(""),c=Object(m.a)(i,2),o=c[0],u=c[1],f=e.reserve,p=e.obligation,v=Object(a.useState)(),b=Object(m.a)(v,2),y=b[0],h=b[1],E=Object(a.useMemo)((function(){var e=d.d.byParser(ge.LendingReserveParser).find((function(e){return e===y}))||"";return d.d.get(e)}),[y]),w=oe(null===f||void 0===f?void 0:f.info.liquidityMint),k=ue(f.info.liquidityMint),O=k.accounts,j=k.balance,S=Object(d.g)(f.info.liquidityMint),x=function(e){var t=ae().userAccounts,n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),a=t.findIndex((function(e){return e.info.mint.toBase58()===n}));if(-1!==a)return t[a]}(null===p||void 0===p?void 0:p.info.tokenMint),N=Object(a.useMemo)((function(){return Object(g.j)(parseFloat(o),S)}),[o,S]),M=Object(g.c)(null===p||void 0===p?void 0:p.info.borrowAmount).toNumber()/N*100,A=Object(a.useCallback)((function(){E&&p&&f&&x&&Re(O[0],N,p,x,f,E,t,n)}),[N,t,n,p,E,f,O,x]);return r.a.createElement(fe.a,{className:e.className,bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},r.a.createElement("div",{className:"repay-input-title"},"How much would you like to repay? (Currently:"," ",g.d.format(j)," ",w,")"),r.a.createElement("div",{className:"token-input"},r.a.createElement(me,{mintAddress:null===f||void 0===f?void 0:f.info.liquidityMint}),r.a.createElement(je,{value:o,onChange:function(e){u(e)},autoFocus:!0,style:{fontSize:20,boxShadow:"none",borderColor:"transparent",outline:"transpaernt"},placeholder:"0.00"}),r.a.createElement("div",null,w)),r.a.createElement(ot.a,{marks:lt,value:M,onChange:function(e){return u((Object(g.f)(Object(g.c)(null===p||void 0===p?void 0:p.info.borrowAmount).toNumber(),S)*e/100).toFixed(2))}}),r.a.createElement("div",{className:"repay-input-title"},"Select collateral account?"),r.a.createElement(De,{reserve:f.info,mint:y,onMintChange:h}),r.a.createElement(_.a,{type:"primary",onClick:A,disabled:0===O.length},"Repay")))}),lt={0:"0%",25:"25%",50:"50%",75:"75%",100:"100%"},st=(n(513),function(){var e=Object(u.g)(),t=e.reserve,n=e.obligation,i=ce(t),c=function(e){var t="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),n=Object(a.useState)(),r=Object(m.a)(n,2),i=r[0],c=r[1];return Object(a.useEffect)((function(){c(d.d.get(t||""));var e=d.d.emitter.onCache((function(e){e.id===t&&c(d.d.get(t))}));return function(){e()}}),[t,c]),i}(n),o=null===i||void 0===i?void 0:i.info;return console.log([t,n]),o&&i?r.a.createElement("div",{className:"repay-reserve"},r.a.createElement("div",{className:"repay-reserve-container"},r.a.createElement(ut,{className:"repay-reserve-item repay-reserve-item-left",reserve:i,obligation:c}),r.a.createElement(Ye,{className:"repay-reserve-item repay-reserve-item-right",reserve:o,address:i.pubkey,mode:Ie.Borrow}))):null});function dt(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{basename:"/"},r.a.createElement(s.a,null,r.a.createElement(l.b,null,r.a.createElement(d.a,null,r.a.createElement(M,null,r.a.createElement(W,null,r.a.createElement(ne,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:function(){return r.a.createElement(ve,null)}}),r.a.createElement(u.a,{exact:!0,path:"/dashboard",children:r.a.createElement(He,null)}),r.a.createElement(u.a,{path:"/reserve/:id",children:r.a.createElement(at,null)}),r.a.createElement(u.a,{exact:!0,path:"/deposit",component:function(){return r.a.createElement(Ze,null)}}),r.a.createElement(u.a,{path:"/deposit/:id",children:r.a.createElement(Xe,null)}),r.a.createElement(u.a,{path:"/withdraw/:id",children:r.a.createElement(it,null)}),r.a.createElement(u.a,{exact:!0,path:"/borrow",children:r.a.createElement(ye,null)}),r.a.createElement(u.a,{path:"/borrow/:id",children:r.a.createElement(Je,null)}),r.a.createElement(u.a,{path:"/repay/:reserve/:obligation",children:r.a.createElement(st,null)}),r.a.createElement(u.a,{path:"/repay/:reserve",children:r.a.createElement(st,null)}),r.a.createElement(u.a,{exact:!0,path:"/faucet",children:r.a.createElement(ct,null)}))))))))))}var mt=function(){return r.a.createElement(dt,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(mt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),i=n(213);function c(e){var t=e.message,n=void 0===t?"":t,a=e.description,c=void 0===a?void 0:a,o=e.txid,u=void 0===o?"":o,l=e.type,s=void 0===l?"info":l,d=e.placement,m=void 0===d?"bottomLeft":d;u&&(c=r.a.createElement(r.a.Fragment,null)),i.a[s]({message:r.a.createElement("span",{style:{color:"black"}},n),description:r.a.createElement("span",{style:{color:"black",opacity:.5}},c),placement:m,style:{backgroundColor:"white"}})}},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return S}));var a=n(27),r=n(0),i=n.n(r),c=n(261),o=n(56),u=n(31),l=n(17),s=n(13),d=n.n(s),m=n(21),f=n(74),p=n(83),v=n(127),b=n(108),y=n(107),g=n(104),h=n.n(g),E=n(16),w=function(e){Object(b.a)(n,e);var t=Object(y.a)(n);function n(e,a){var r;return Object(f.a)(this,n),(r=t.call(this))._publicKey=void 0,r._onProcess=void 0,r._publicKey=null,r._onProcess=!1,r.connect=r.connect.bind(Object(v.a)(r)),r}return Object(p.a)(n,[{key:"signTransaction",value:function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.solong.signTransaction(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;this._onProcess||(void 0!==window.solong?(this._onProcess=!0,console.log("solong helper select account"),window.solong.selectAccount().then((function(t){e._publicKey=new E.d(t),console.log("window solong select:",t,"this:",e),e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1}))):Object(o.a)({message:"Solong Error",description:"Please install solong wallet from Chrome "}))}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=null,this.emit("disconnect"))}},{key:"publicKey",get:function(){return this._publicKey}}]),n}(h.a),k=[{name:"sollet.io",url:"https://www.sollet.io"},{name:"solongwallet.com",url:"http://solongwallet.com"},{name:"solflare.com",url:"https://solflare.com/access-wallet"},{name:"mathwallet.org",url:"https://www.mathwallet.org"}],O=i.a.createContext(null);function j(e){var t,n,s=e.children,d=void 0===s?null:s,m=Object(u.e)().endpoint,f=Object(l.k)("walletProvider","https://www.sollet.io"),p=Object(a.a)(f,2),v=p[0],b=p[1],y=Object(r.useMemo)((function(){return console.log("use new provider:",v," endpoint:",m),"http://solongwallet.com"===v?new w(v,m):new c.a(v,m)}),[v,m]),g=Object(r.useState)(!1),h=Object(a.a)(g,2),E=h[0],j=h[1];return Object(r.useEffect)((function(){return console.log("trying to connect"),y.on("connect",(function(){console.log("connected"),j(!0);var e=y.publicKey.toBase58(),t=e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e;Object(o.a)({message:"Wallet update",description:"Connected to wallet "+t})})),y.on("disconnect",(function(){j(!1),Object(o.a)({message:"Wallet update",description:"Disconnected from wallet"})})),function(){y.disconnect(),j(!1)}}),[y]),i.a.createElement(O.Provider,{value:{wallet:y,connected:E,providerUrl:v,setProviderUrl:b,providerName:null!==(t=null===(n=k.find((function(e){return e.url===v})))||void 0===n?void 0:n.name)&&void 0!==t?t:v}},d)}function S(){var e=Object(r.useContext)(O);return{connected:e.connected,wallet:e.wallet,providerUrl:e.providerUrl,setProvider:e.setProviderUrl,providerName:e.providerName}}},71:function(e,t,n){"use strict";var a=n(251);n.d(t,"a",(function(){return a.a})),n.d(t,"f",(function(){return a.b}));var r=n(116);n.d(t,"d",(function(){return r.a})),n.d(t,"h",(function(){return r.d}));var i=n(252);n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return i.b})),n.d(t,"g",(function(){return i.c}));n(92);var c=n(253);n.d(t,"e",(function(){return c.a}))},92:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.InitLendingMarket=0]="InitLendingMarket",e[e.InitReserve=1]="InitReserve",e[e.DepositReserveLiquidity=2]="DepositReserveLiquidity",e[e.WithdrawReserveLiquidity=3]="WithdrawReserveLiquidity",e[e.BorrowLiquidity=4]="BorrowLiquidity",e[e.RepayOblogationLiquidity=5]="RepayOblogationLiquidity",e[e.LiquidateObligation=6]="LiquidateObligation"}(a||(a={}))},98:function(e,t,n){"use strict";var a=n(260);n.o(a,"LendingObligationLayout")&&n.d(t,"LendingObligationLayout",(function(){return a.LendingObligationLayout})),n.o(a,"LendingReserveParser")&&n.d(t,"LendingReserveParser",(function(){return a.LendingReserveParser})),n.o(a,"borrowInstruction")&&n.d(t,"borrowInstruction",(function(){return a.borrowInstruction}));var r=n(71);n.d(t,"LendingObligationLayout",(function(){return r.b})),n.d(t,"LendingReserveParser",(function(){return r.d})),n.d(t,"borrowInstruction",(function(){return r.e}))}},[[301,1,2]]]);